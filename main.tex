\documentclass[12pt]{article}
\usepackage[margin=1in]{geometry}
\usepackage{blindtext}
\usepackage{hyperref}
\usepackage{amsmath,epsfig}
\usepackage{amsfonts}
\usepackage[T1]{fontenc}
\usepackage{titling}
\usepackage{commath}
\usepackage{mathtools}
\usepackage{tabu}
\usepackage{booktabs}
\usepackage{bm}
\newcommand{\RR}{\mathbb{R}}
\DeclarePairedDelimiter\ip{\langle }{\rangle}

\setlength{\droptitle}{-10em}
\title{Final report draft}

\begin{document}

\maketitle
\begin{abstract}

\end{abstract}

\section{Introduction}
Ray tracing is a computer graphics technique that create images by tracing the path of light from a pixel as it intersects with the objects in the scene, and calculate how much light is reflected back along the ray to determine the color of the pixel. Figure 1 illustrate the basic precess of ray tracing.

The goal of this project is to quantitatively compare the results of introducing importance sampling in a ray tracing model. Instead of picking a random direction for the next ray in the light path and calculating the BSDF, importance sampling lets the model to automatically select a direction based on how much it will contribute to the radiance, so the insignificant directions are selected less often, resulting in faster convergence rate of the image. In this project, we observe the convergence rate under direct sampling and importance sampling methods by comparing how fast the Frobenius norm of the difference between the converged image and an image generated given difference number of samples.
    
\section{Methods}

The physical basis for all raytracers is the rendering equation, which can be written as
\[L_{o}(\mathbf x, \bm {\omega_{o}}, \lambda, t) = L_{e}(\mathbf x, \bm{\omega_o}, \lambda, t) + \int_\Omega f_s(\mathbf x, \bm{\omega_i}, \bm{\omega_o}, \lambda, t)L_i(\mathbf x, \bm{\omega_i}, \lambda, t)\ip{\bm n, \bm{\omega_i}} \dif \bm{\omega_i}\]

where
\begin{center}
  \begin{tabu}{ll}
    \(L_{o}\) is the outbound radiance & \(\bm{\omega_o}\) is the outbound radiance direction\\
    \(L_{i}\) is the inbound radiance & \(\bm{\omega_i}\) is inbound radiance direction\\
    \(L_{e}\) is the emission radiance & \(\mathbf x\) is a point in space\\
    \(f_s\) bidirectional scattering distribution function & \(\lambda\) is the spectral wavelength\\
    \(\Omega\) is the unit hemisphere around \(\bm n\) & \(\bm n\) is the surface normal at \(\mathbf x\).
  \end{tabu}
\end{center}
Since we are rendering only still images, we can ignore the dependence on time, yielding
\[L_{o}(\mathbf x, \bm {\omega_{o}}, \lambda) = L_{e}(\mathbf x, \bm{\omega_o}, \lambda) + \int_\Omega f_s(\mathbf x, \bm{\omega_i}, \bm{\omega_o}, \lambda)L_i(\mathbf x, \bm{\omega_i}, \lambda)\ip{\bm n, \bm{\omega_i}} \dif \bm{\omega_i}.\]

Solving the rendering equation for a given set of objects is the main task in accurate rendering algorithms.
However, the equation is recursive, as the outbound radiance at one point may become the inbound radiance at another.
Thus, a realistic solution to the rendering equation requires integrating over all possible paths light may take within a scene.
For scenes of any reasonable complexity, this produces a system that is too complex to be solved analytically.

Therefore, it is appropriate to compute an approximate solution to the rendering equation using Monte Carlo methods.
Raytracers operate by explicitly tracing light paths through the scene.
By averaging over enough paths, they can produce a highly accurate approximate solution to the rendering equation.

\subsection{Shading Introduction}
Let \(\bm o\) be the unit outbound light direction vector, and let \(\bm i\) be the unit inbound light direction vector.
Let \(\bm n\) be the normal vector.

I am using the Fresnel formulation from PBRT.
\begin{align*}
  r_{\parallel}^2 &= \frac{\del{\eta^2 + \kappa^2}\cos^2 \theta_{\bm i} - 2\eta \cos \theta_{\bm i} + 1}{\del{\eta^2 + \kappa^2}\cos^2 \theta_{\bm i} + 2\eta \cos \theta_{\bm i} + 1}\\
  r_{\perp}^2 &= \frac{\del{\eta^2 + \kappa^2} - 2\eta \cos \theta_{\bm i} + \cos^2 \theta_{\bm i}}{\del{\eta^2 + \kappa^2} + 2\eta \cos \theta_{\bm i} + \cos^2 \theta_{\bm i}}
\end{align*}

\section{Results}

\section{Discussion}

\end{document}
